<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<?xml-stylesheet type="text/xsl" href="callbacks.xsl"?>

<plugin name="simEvents" author="federico.ferri.it@gmail.com">
    <description>API functions for events</description>
    <command name="addProbe">
        <description>Add a event probe.</description>
        <params>
            <param name="opts" type="probe_opts" default="{}">
                <description>Options. see <struct-ref name="probe_opts"/></description>
            </param>
        </params>
        <return>
            <param name="probeHandle" type="string" />
        </return>
    </command>
    <struct name="probe_opts">
        <param name="callback" type="string" nullable="true">
            <description>Callback function to call when a matching event is received.</description>
        </param>
        <param name="eventTypes" type="table" item-type="string" nullable="true">
            <description>Type of events to filter. Set to nil for all events.</description>
        </param>
        <param name="handles" type="table" item-type="int" nullable="true">
            <description>Handles to filter. Set to nil for all events.</description>
        </param>
        <param name="properties" type="table" item-type="string" nullable="true">
            <description>Properties to filter. Set to nil for all properties.</description>
        </param>
    </struct>
</plugin>
